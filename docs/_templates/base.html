{% extends "!base.html" %}

{%- block scripts %}
  {{ super() }}
  
  <!-- OSA Chat Widget (HED Assistant)
       Privacy Note: This widget sends page content to an external AI service when
       allowPageContext is enabled. The widget provides contextual help for HED schemas documentation.
       Data sent: Page text content, user questions
       Service: OSA Chat Widget (osa-demo.pages.dev)
  -->
  <script>
    // Define config before the widget script loads
    window.osaChatConfig = {
      communityId: 'hed',
      title: 'HED Assistant',
      initialMessage: 'Questions about HED schemas? Ask me!',
      placeholder: 'Questions about HED schemas?',
      suggestedQuestions: [
        'What is a HED schema?',
        'How do I look at what HED tags are available?',
        'How do I create my own HED vocabulary?',
        'How are HED schemas integrated into BIDS or NWB?'
      ],
      widgetInstructions: 'User is on the HED schemas documentation most likely looking for information about HED vocabularies, how to use HED schemas in tools, or how to create a new schema',
      showExperimentalBadge: true,
      allowPageContext: true,
      pageContextDefaultEnabled: true
    };
  </script>
  <script src="https://osa-demo.pages.dev/osa-chat-widget.js"
    crossorigin="anonymous"
    defer
    onload="window.OSAChatWidget && window.OSAChatWidget.setConfig(window.osaChatConfig)">
  </script>
{%- endblock scripts %}
